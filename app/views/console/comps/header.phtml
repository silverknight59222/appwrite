<?php
use Utopia\Locale\Locale;
?>
<header class="clear">
    &nbsp;&nbsp;&nbsp;
    <div class="list pull-start project-only">
        <select data-ls-loop="projects" data-ls-as="option" data-ls-bind="{{router.params.project}}" data-switch>
            <option data-ls-attrs="value={{option.$uid}}" data-ls-bind="{{option.name}}"></option>
        </select>
    </div>

    <button style="width: 40px; height: 40px; line-height: 40px; overflow: visible;" id="setup" class="tooltip round down project-only" aria-label="Quick Start" data-tooltip="Create a new project"><i class="icon-plus"></i></button>

    <div class="account-box clear pull-end"
         data-service="account.get"
         data-name="account"
         data-scope="console"
         data-event="load">

        <div class="pull-end console-back">
            <a href="/console">Back to Console &nbsp;<i class="icon-right-open"></i></a>
        </div>

        <a href="/console/account" class="account pull-end clear">
            <img src="" data-ls-attrs="src={{account|gravatar}}" alt="User Avatar" class="avatar margin-start pull-end" />
            <span class="name pull-end" data-ls-bind="{{account.name}}"></span>
        </a>
    </div>

    <nav>
        <a class="logo" href="/console">
            <img src="/images/appwrite-nav.svg" alt="Appwrite Logo" />
        </a>

        <div data-ui-highlight class="project-only">

            <ul class="links">
                <li>
                    <a data-ls-attrs="href=/console/home?project={{router.params.project}}">
                        <i class="icon-home"></i>
                        Home
                    </a>
                </li>
            </ul>

            <b class="subtitle">DEVELOP</b>

            <ul class="links">
                <li>
                    <a data-ls-attrs="href=/console/database?project={{router.params.project}}">
                        <i class="icon-database"></i>
                        Database
                    </a>
                </li>
                <li>
                    <a data-ls-attrs="href=/console/storage?project={{router.params.project}}">
                        <i class="icon-folder"></i>
                        Storage
                    </a>
                </li>
                <li>
                    <a data-ls-attrs="href=/console/users?project={{router.params.project}}">
                        <i class="icon-users"></i>
                        Users
                    </a>
                </li>
            </ul>

            <b class="subtitle">MANAGE</b>

            <ul class="links">
                <li>
                    <a data-ls-attrs="href=/console/settings/keys?project={{router.params.project}}">
                        <i class="icon-key-inv"></i>
                        API Keys
                    </a>
                </li>
                <li>
                    <a data-ls-attrs="href=/console/settings/webhooks?project={{router.params.project}}">
                        <i class="icon-link"></i>
                        Webhooks
                    </a>
                </li>
                <li>
                    <a data-ls-attrs="href=/console/settings/tasks?project={{router.params.project}}">
                        <i class="icon-clock"></i>
                        Tasks
                    </a>
                </li>
            </ul>

            <ul class="links bottom project-only">
                <li>
                    <a data-ls-attrs="href=/console/settings?project={{router.params.project}}"><i class="icon-cog"></i> Settings</a>
                </li>
            </ul>
        </div>
    </nav>
</header>

<div class="list pull-start project-only"
     data-service="projects.list"
     data-event="load"
     data-name="projects"
     data-scope="console"
     data-singleton="true">
</div>

<div data-ls-if="({{router.params.project}} != undefined)">
    <div data-service="projects.get"
         data-event="load"
         data-name="console-project"
         data-param-project-id="{{router.params.project}}">
    </div>
</div>

<div class=""
     data-service="geo.get"
     data-name="geo"
     data-event="load"
     data-singleton="true">
</div>

<div class=""
     data-service="geo.countries.list"
     data-name="geo-countries"
     data-event="load"
     data-singleton="true">
</div>

<div class=""
     data-service="geo.countries.phones"
     data-name="geo-countries-phones"
     data-event="load"
     data-singleton="true">
</div>

<div data-ui-modal class="modal close" data-button-alias="setup" data-button-icon="icon-plus" data-button-class="project-only" data-open-event="new-project">
    <h1>Add Project</h1>

    <form data-setup>
        <p class="note">Appwrite project is set of services and resources shared across different platforms like Web, iOS or Android.</p>

        <input type="hidden" class="full-width" name="plan" value="" />
        <input type="hidden" class="full-width" name="vault" value="" />

        <label>Name</label>
        <input type="text" class="full-width" name="name" required autocomplete="off" />

        <br />

        <footer>
            <button type="submit">Create</button> &nbsp; <button data-ls-trigger="modal-close" type="button" class="reverse">Cancel</button>
        </footer>
    </form>
</div>